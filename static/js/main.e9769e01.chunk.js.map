{"version":3,"sources":["fonts/Bitter/static/Bitter-Medium.ttf","fonts/Roboto/Roboto-Medium.ttf","AuthContext.js","pages/api-form.js","assets/pencil-icon-2.svg","pages/Home.js","pages/ItemCard.js","pages/Form.js","pages/Submitted.js","ProtectedRoute.js","Router.js","App.js","index.js"],"names":["AuthContext","createContext","useAuth","useContext","AuthProvider","children","useState","teacher","setTeacher","location","setLocation","teacherFirstName","setTeacherFirstName","populateTeacher","teacherInfo","name","split","clearTeacher","populateLocation","loc","clearLocation","value","useMemo","Provider","getTeacherByID","id","a","fetch","response","json","console","log","error","getAllLocations","getShopForm","responseJson","forEach","element","itemCount","submitForm","items","filter","item","method","headers","body","JSON","stringify","Home","history","useHistory","teacherID","setTeacherID","teacherLocation","setTeacherLocation","setError","locationArr","setLocationArr","useEffect","then","result","className","src","PencilIcon","alt","onSubmit","event","preventDefault","data","push","variant","placeholder","autoComplete","onChange","target","disabled","selected","map","type","ItemCard","uuid","itemName","itemLimit","handleChange","numItems","setNumItems","onClick","size","pattern","e","val","parseInt","min","defaultProps","Form","setItems","goodbye","window","cancelBubble","returnValue","stopPropagation","onbeforeunload","count","prevItems","el","maxLimit","to","completeObj","teacherId","pencilId","locationId","schoolId","School","Submitted","ProtectedRoute","Component","component","rest","render","props","Router","exact","path","App","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.e9769e01.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/Bitter-Medium.45ca6931.ttf\";","export default __webpack_public_path__ + \"static/media/Roboto-Medium.7429a63c.ttf\";","import PropTypes from 'prop-types';\nimport React, { useContext, useState, createContext, useMemo } from 'react';\n\nconst AuthContext = createContext();\n\n/**\n * Allows for context to be imported in a page.\n *\n * @returns {Object} - The context object.\n * */\nexport function useAuth() {\n  return useContext(AuthContext);\n}\n\n/**\n * Main functionality for AuthProvider.\n * @param {Object} {children} - Children helpers/state of component.\n * @returns {Object} - Created context with children helpers/states.\n * */\nexport const AuthProvider = ({ children }) => {\n  const [teacher, setTeacher] = useState();\n  const [location, setLocation] = useState();\n  const [teacherFirstName, setTeacherFirstName] = useState();\n\n  /**\n   * Populates teacher information in state.\n   * @param {Object} teacherInfo - Teacher information.\n   * */\n  function populateTeacher(teacherInfo) {\n    setTeacherFirstName(teacherInfo.name.split(' ')[0]);\n    setTeacher(teacherInfo);\n  }\n\n  // Clears teacher information in state.\n  function clearTeacher() {\n    setTeacherFirstName(null);\n    setTeacher(null);\n  }\n\n  function populateLocation(loc) {\n    setLocation(loc);\n  }\n\n  function clearLocation() {\n    setLocation(null);\n  }\n\n  // State and helpers to export\n  const value = useMemo(\n    () => ({\n      teacher,\n      populateTeacher,\n      clearTeacher,\n      teacherFirstName,\n      location,\n      populateLocation,\n      clearLocation,\n    }),\n    [\n      teacher,\n      populateTeacher,\n      clearTeacher,\n      teacherFirstName,\n      location,\n      populateLocation,\n      clearLocation,\n    ]\n  );\n\n  return <AuthContext.Provider value={value}>{children}</AuthContext.Provider>;\n};\n\nAuthProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n","/* eslint-disable consistent-return */\n/* eslint-disable no-param-reassign */\n\n/**\n * Makes GET request to API to get teacher information.\n * @param  {string} id - Teacher ID to be queried by backend.\n *\n * @returns {Object} - Teacher information if request is successful, error otherwise.\n * */\nconst getTeacherByID = async (id) => {\n  try {\n    const response = await fetch(\n      `http://ec2-3-130-177-151.us-east-2.compute.amazonaws.com:8080/api/teacher/${id}`\n    );\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n    return { error: 'Teacher Not Found' };\n  }\n};\n\nconst getAllLocations = async () => {\n  try {\n    const response = await fetch(\n      'http://ec2-3-130-177-151.us-east-2.compute.amazonaws.com:8080/api/location/locations'\n    );\n    return await response.json();\n  } catch (err) {\n    return err;\n  }\n};\n\nconst getShopForm = async (location) => {\n  try {\n    const response = await fetch(\n      `http://ec2-3-130-177-151.us-east-2.compute.amazonaws.com:8080/api/${location}/form/getShopForm`\n    );\n    const responseJson = await response.json();\n    responseJson.forEach((element) => {\n      element.itemCount = 0;\n    });\n    return responseJson;\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nconst submitForm = async (location, items) => {\n  try {\n    // remove items which weren't taken\n    items.items = items.items.filter((item) => item.itemCount > 0);\n\n    const response = await fetch(`api/${location}/transaction/submit`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(items),\n    });\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n  }\n};\n\nexport { getTeacherByID, getShopForm, submitForm, getAllLocations };\n","export default __webpack_public_path__ + \"static/media/pencil-icon-2.f7c1ee4b.svg\";","/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\n/* eslint-disable jsx-a11y/anchor-is-valid */\nimport React, { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport './Home.css';\n\nimport { useAuth } from '../AuthContext';\nimport { getTeacherByID, getAllLocations } from './api-form';\n// import { ReactComponent as PencilIcon } from '../assets/pencil-icon-2.svg';\nimport PencilIcon from '../assets/pencil-icon-2.svg';\n\n/**\n * Home page for pencil form.\n *\n * @returns {Object} - Page containing homepage.\n * */\n\nconst Home = () => {\n  const { populateTeacher, populateLocation, location } = useAuth();\n\n  const history = useHistory();\n\n  const [teacherID, setTeacherID] = useState(''); // ID of teacher editable by form\n  const [teacherLocation, setTeacherLocation] = useState(location); // Location of teacher editable by form\n  const [error, setError] = useState('');\n  const [locationArr, setLocationArr] = useState([]);\n\n  useEffect(() => {\n    console.log(location);\n  }, []);\n\n  /**\n   * Gets teacher data if exists, or displays error if teacher doesn't exist.\n   *\n   * @param {Object} event - Event object.\n   * */\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    console.log(teacherLocation);\n    if (teacherID === '') {\n      setError('Pencil ID is required.');\n    } else if (!teacherLocation) {\n      setError('Location is required.');\n    } else {\n      getTeacherByID(teacherID).then((data) => {\n        console.log(data);\n        if (data.error) setError(data.error);\n        else {\n          setError('');\n          populateTeacher(data);\n          populateLocation(teacherLocation);\n          history.push(`/form`);\n        }\n      });\n    }\n  };\n\n  useEffect(() => {\n    getAllLocations().then((result) => {\n      if (!result || result.error) {\n        console.log(result ? result.error : 'error');\n      } else {\n        console.log(result);\n        setLocationArr(result);\n      }\n    });\n  }, []);\n\n  return (\n    <div className=\"centered\">\n      <div id=\"background1\" />\n      <div id=\"background2\" />\n      <div id=\"line1\" />\n      <div id=\"line2\" />\n      <div id=\"welcomeMessage\">\n        <img src={PencilIcon} id=\"pencil-icon\" alt=\"A cartoon pencil\" />\n        <h2 id=\"welcome\">Welcome to</h2>\n        <h1 id=\"pencil\">PENCIL</h1>\n      </div>\n      <br />\n      <div className=\"idFormBox\">\n        <form onSubmit={handleSubmit} id=\"idForm\">\n          <p id=\"label\">\n            Please enter your PENCIL ID and location to get started.\n          </p>\n          <br id=\"desktopBr\" />\n          <input\n            variant=\"outlined\"\n            name=\"teacherid\"\n            placeholder=\"PENCIL ID\"\n            value={teacherID}\n            autoComplete=\"off\"\n            onChange={(event) => setTeacherID(event.target.value)}\n          />\n          <select\n            variant=\"outlined\"\n            name=\"location\"\n            placeholder=\"LOCATION\"\n            value={teacherLocation}\n            autoComplete=\"off\"\n            className=\"selectLocation\"\n            onChange={(event) => setTeacherLocation(event.target.value)}\n          >\n            <option value=\"\" disabled=\"disabled\" selected=\"selected\">\n              Select a Location\n            </option>\n            {locationArr.map((item) => (\n              <option value={item.name}>{item.name}</option>\n            ))}\n          </select>\n          <br />\n          {error && <p className=\"errorMessage\">{error}</p>}\n          <button id=\"submitButton\" type=\"submit\">\n            Submit\n          </button>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default Home;\n","import React, { useState, useEffect } from 'react';\nimport { FaPlus, FaMinus } from 'react-icons/fa';\nimport PropTypes from 'prop-types';\n\nconst ItemCard = ({ uuid, itemName, itemLimit, handleChange }) => {\n  const [numItems, setNumItems] = useState(0);\n\n  const handleInputChange = (e) => {\n    const val = parseInt(e.target.value, 10);\n    setNumItems(val);\n  };\n\n  useEffect(() => {\n    handleChange(numItems, uuid);\n  }, [numItems]);\n\n  return (\n    <div className=\"cardContainer\">\n      <button\n        type=\"button\"\n        className=\"minMaxButton\"\n        id=\"minButton\"\n        onClick={() => setNumItems(0)}\n      >\n        Min\n      </button>\n      <div className=\"itemName\">{itemName}</div>\n      <button\n        type=\"button\"\n        className=\"minMaxButton\"\n        onClick={() => setNumItems(itemLimit)}\n      >\n        Max\n      </button>\n      <text className={`itemLimit ${numItems > itemLimit ? 'redFont' : ''}`}>\n        Limit: {itemLimit}\n      </text>\n\n      <button\n        type=\"button\"\n        className=\"roundButton decrement\"\n        onClick={() => setNumItems(numItems - 1)}\n        disabled={numItems === 0}\n      >\n        <FaMinus size={100} />\n      </button>\n\n      <input\n        className={`itemCountInputBox ${\n          numItems > itemLimit ? 'inputBoxRed' : ''\n        }`}\n        pattern=\"[0-9]*\"\n        type=\"number\"\n        value={numItems}\n        onChange={handleInputChange}\n        min=\"0\"\n      />\n      <button\n        type=\"button\"\n        className=\"roundButton increment\"\n        onClick={() => setNumItems(numItems + 1)}\n      >\n        <FaPlus size={100} />\n      </button>\n    </div>\n  );\n};\n\nexport default ItemCard;\n\nItemCard.propTypes = {\n  uuid: PropTypes.string,\n  itemName: PropTypes.string,\n  itemLimit: PropTypes.number,\n  handleChange: PropTypes.func,\n};\n\nItemCard.defaultProps = {\n  uuid: '',\n  itemName: 'None',\n  itemLimit: 0,\n  handleChange: () => {},\n};\n","import React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport './Form.css';\nimport { useAuth } from '../AuthContext';\n// import PencilIcon from '../assets/pencil-icon-2.svg';\nimport { getShopForm, submitForm } from './api-form';\nimport ItemCard from './ItemCard';\n\n/**\n * Form page containing form with school items for teacher.\n *\n * @returns {Object} - Page containing form.\n * */\nconst Form = () => {\n  const { teacher, location, teacherFirstName } = useAuth();\n  const [items, setItems] = useState([]);\n  const submitAll = () => {\n    const completeObj = {\n      teacherId: teacher.pencilId,\n      locationId: location,\n      schoolId: teacher.School.uuid || 2, // TODO: Use real school id\n      items,\n    };\n\n    submitForm(location, completeObj);\n  };\n\n  function goodbye(e) {\n    //  Alerts the user if they try to leave the page.\n    // FIXME: probably need to rename -- don't know what e signifies\n    const event = e || window.event;\n    event.cancelBubble = true;\n    event.returnValue = 'You sure you want to leave?'; // This is displayed on the dialog\n\n    // e.stopPropagation works in Firefox.\n    if (event.stopPropagation) {\n      event.stopPropagation();\n      event.preventDefault();\n    }\n  }\n\n  useEffect(() => {\n    window.onbeforeunload = goodbye;\n    return () => {\n      window.onbeforeunload = null;\n    };\n  }, []);\n\n  useEffect(() => {\n    getShopForm(location).then((result) => {\n      if (!result || result.error) {\n        console.log(result ? result.error : 'error');\n      } else {\n        setItems(result);\n      }\n    });\n  }, []);\n\n  const handleChange = (count, uuid) => {\n    setItems((prevItems) =>\n      prevItems.map((el) =>\n        el.uuid === uuid ? { ...el, itemCount: count } : el\n      )\n    );\n  };\n\n  return (\n    <div className=\"pageContainer\">\n      <div className=\"header\">\n        {/* <img src={PencilIcon} id=\"form-pencil-icon\" alt=\"a cartoon pencil\" /> */}\n        {teacher && <h1 id=\"form-greeting\">Welcome, {teacherFirstName}!</h1>}\n        {location && <h2 id=\"location-label\">PENCIL - {location}</h2>}\n      </div>\n      <div className=\"formContainer\">\n        {items.map((item) => (\n          <ItemCard\n            uuid={item.uuid}\n            itemName={item['Item.itemName']}\n            itemLimit={item.maxLimit}\n            handleChange={handleChange}\n          />\n        ))}\n        <Link className=\"submitLink\" to=\"/submitted\">\n          <button type=\"submit\" id=\"submit\" onClick={submitAll}>\n            Submit\n          </button>\n        </Link>\n      </div>\n    </div>\n  );\n};\n\nexport default Form;\n","import React from 'react';\n\nimport './Submitted.css';\nimport { useAuth } from '../AuthContext';\n\n/**\n * Page that verifies success of form submission.\n *\n * @returns {Object} - Page containing success page.\n * */\nconst Submitted = () => {\n  const { clearTeacher, teacher, teacherFirstName } = useAuth();\n\n  return (\n    <div className=\"submitted\">\n      {teacher && (\n        <p id=\"thanks\">\n          Thank you for shopping with PENCIL, {teacherFirstName}!\n        </p>\n      )}\n      <br />\n      <div className=\"fullPencil\">\n        <div className=\"secondLine\" />\n        <div className=\"pencilIcon\" />\n        <div className=\"firstLine\" />\n      </div>\n      <button\n        type=\"button\"\n        className=\"backHome\"\n        variant=\"contained\"\n        onClick={() => {\n          clearTeacher();\n        }}\n      >\n        <a className=\"link\" to=\"/\">\n          Back to home\n        </a>\n      </button>\n    </div>\n  );\n};\n\nexport default Submitted;\n","import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\nimport PropTypes from 'prop-types';\nimport { useAuth } from './AuthContext';\n\n/**\n * Protects route if teacher is unauthorized.\n * @return {Object} -Logic for protected routes.\n * */\nconst ProtectedRoute = ({ component: Component, ...rest }) => {\n  const { teacher } = useAuth();\n\n  return (\n    <Route\n      {...rest}\n      render={(props) =>\n        teacher ? <Component {...props} /> : <Redirect to=\"/\" />\n      }\n    />\n  );\n};\n\nProtectedRoute.propTypes = {\n  component: PropTypes.elementType.isRequired,\n};\n\nexport default ProtectedRoute;\n","import React from 'react';\nimport { Route, Switch } from 'react-router-dom';\n\n// Pages\nimport Home from './pages/Home';\nimport Form from './pages/Form';\nimport Submitted from './pages/Submitted';\nimport { AuthProvider } from './AuthContext';\nimport ProtectedRoute from './ProtectedRoute';\n\n/**\n * Router for forms.\n *\n * @returns {Object} - Switch router for all three paths.\n * */\nconst Router = () => (\n  <AuthProvider>\n    <Switch>\n      <Route exact path=\"/\" component={Home} />\n      <ProtectedRoute exact path=\"/form\" component={Form} />\n      <ProtectedRoute exact path=\"/submitted\" component={Submitted} />\n    </Switch>\n  </AuthProvider>\n);\n\nexport default Router;\n","import { BrowserRouter } from 'react-router-dom';\nimport Router from './Router';\n\n/**\n * Root component of application.\n *\n * @returns {Object} - BrowserRouter with Router component.\n * */\nconst App = () => (\n  <BrowserRouter>\n    <Router />\n  </BrowserRouter>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './fonts/Bitter/static/Bitter-Medium.ttf';\nimport './fonts/Roboto/Roboto-Medium.ttf';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}